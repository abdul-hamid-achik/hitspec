@baseUrl = https://petstore.swagger.io/v2

### Find pets by status
# @name findPetsByStatus
# @description Find available pets
# @tags smoke, pets

GET {{baseUrl}}/pet/findByStatus?status=available

>>>
expect status 200
expect body[0].id exists
expect body[0].status == "available"
<<<

>>>capture
existingPetId from body[0].id
<<<

### Get pet by ID
# @name getPet
# @description Get the created pet
# @tags pets
# @depends createPet

GET {{baseUrl}}/pet/{{createPet.petId}}

>>>
expect status 200
expect body.id exists
expect body.name exists
<<<

### Create a new pet
# @name createPet
# @description Create a new pet
# @tags pets, write

POST {{baseUrl}}/pet
Content-Type: application/json

{
  "id": 12345,
  "name": "doggie",
  "category": {
    "id": 1,
    "name": "Dogs"
  },
  "photoUrls": ["http://example.com/photo.jpg"],
  "tags": [
    {
      "id": 1,
      "name": "cute"
    }
  ],
  "status": "available"
}

>>>
expect status 200
expect body.id == 12345
expect body.name == "doggie"
<<<

>>>capture
petId from body.id
<<<

### Update the pet
# @name updatePet
# @description Update the pet
# @tags pets, write
# @depends createPet

PUT {{baseUrl}}/pet
Content-Type: application/json

{
  "id": {{createPet.petId}},
  "name": "doggie updated",
  "photoUrls": ["http://example.com/photo.jpg"],
  "status": "sold"
}

>>>
expect status 200
expect body.name == "doggie updated"
expect body.status == "sold"
<<<

### Delete the pet
# @name deletePet
# @description Delete the pet
# @tags pets, write
# @depends getPet

DELETE {{baseUrl}}/pet/{{createPet.petId}}

>>>
expect status 200
<<<
